<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ü–æ–∏—Å–∫ Roblox ID –ø–æ –Ω–∏–∫—É</title>
  <style>
    body { font-family: sans-serif; margin: 40px; }
    input, button { padding: 8px; font-size: 16px; }
    #result { margin-top: 20px; padding: 10px; background: #f0f0f0; }
  </style>
</head>
<body>
  <h2>–ù–∞–π—Ç–∏ UserId –ø–æ –Ω–∏–∫—É –≤ Roblox</h2>
  <input type="text" id="username" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∏–∫ –∏–≥—Ä–æ–∫–∞" />
  <button onclick="searchUser()">–ù–∞–π—Ç–∏</button>
  <div id="result"></div>

  <script>
    async function searchUser() {
      const nickname = document.getElementById("username").value.trim();
      const resultDiv = document.getElementById("result");

      if (!nickname) {
        resultDiv.innerHTML = "‚ùå –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –Ω–∏–∫.";
        return;
      }

      resultDiv.innerHTML = "üîç –ò—â–µ–º...";

      try {
        const response = await fetch("https://users.roblox.com/v1/users/search", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            keyword: nickname,
            limit: 10,
            excludeBannedUsers: false
          })
        });

        const data = await response.json();

        if (!data.data || data.data.length === 0) {
          resultDiv.innerHTML = "‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.";
          return;
        }

        // –ë–µ—Ä—ë–º –ø–µ—Ä–≤–æ–≥–æ —Å–æ–≤–ø–∞–¥–∞—é—â–µ–≥–æ (—Ç–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ ‚Äî –ø–µ—Ä–≤—ã–π –≤ —Å–ø–∏—Å–∫–µ, –µ—Å–ª–∏ –µ—Å—Ç—å)
        const user = data.data.find(u => u.name.toLowerCase() === nickname.toLowerCase()) 
                     || data.data[0]; // –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–≤—ã–π

        resultDiv.innerHTML = `
          ‚úÖ –ù–∞–π–¥–µ–Ω–æ:<br>
          <strong>Username:</strong> ${user.name}<br>
          <strong>DisplayName:</strong> ${user.displayName || "‚Äî"}<br>
          <strong>UserId:</strong> <span style="color: green; font-weight: bold;">${user.id}</span>
        `;
      } catch (err) {
        console.error(err);
        resultDiv.innerHTML = "‚ùå –û—à–∏–±–∫–∞: " + (err.message || "–Ω–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å");
        // ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–∞ –æ—à–∏–±–∫–∞ CORS ‚Äî —Å–º. –Ω–∏–∂–µ!
      }
    }
  </script>
</body>
</html>
