<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å code.lua –≤ Realtime DB</title>
  <!-- Firebase Realtime Database (CDN) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>
</head>
<body style="font-family: Arial; padding: 20px; max-width: 800px;">
  <h2>üíæ –û–±–Ω–æ–≤–∏—Ç—å code.lua (Realtime DB)</h2>
  <textarea id="code" rows="15" cols="80" placeholder="–í–≤–µ–¥–∏—Ç–µ Lua-–∫–æ–¥ –¥–ª—è Roblox">print("–ü—Ä–∏–≤–µ—Ç –∏–∑ Realtime DB!")
wait(1)
game.StarterGui:SetCore("SendNotification", {
	Title = "–£—Å–ø–µ—Ö!",
	Text = "–ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ Firebase Realtime DB",
	Duration = 3
})</textarea><br><br>
  <button onclick="save()" style="padding: 10px 20px; font-size: 16px;">üì§ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ /code.lua</button>
  <p id="status">–ì–æ—Ç–æ–≤ –∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—é...</p>

  <script>
    // üîë –ö–æ–Ω—Ñ–∏–≥ –¥–ª—è Realtime Database (—Ç–æ–ª—å–∫–æ projectId + databaseURL)
    const firebaseConfig = {
      databaseURL: "https://code-e0de9-default-rtdb.firebaseio.com"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (realtime db –Ω–µ —Ç—Ä–µ–±—É–µ—Ç apiKey)
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
    const codeRef = db.ref("code.lua"); // –ø—É—Ç—å: /code.lua

    // –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –∫–æ–¥–∞ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
    codeRef.once("value").then(snapshot => {
      const val = snapshot.val();
      if (typeof val === "string") {
        document.getElementById("code").value = val;
        document.getElementById("status").innerText = "‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ –∏–∑ Realtime DB";
      } else {
        document.getElementById("status").innerText = "üÜï –ù–µ—Ç code.lua ‚Äî –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω";
      }
    });

    function save() {
      const content = document.getElementById("code").value;
      codeRef.set(content) // ‚ö° –∑–∞–º–µ–Ω—è–µ—Ç –í–ï–°–¨ —Å—Ç–∞—Ä—ã–π –∫–æ–¥
        .then(() => {
          document.getElementById("status").innerText = "‚úÖ –£—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ /code.lua!";
        })
        .catch(err => {
          document.getElementById("status").innerText = "‚ùå –û—à–∏–±–∫–∞: " + err.message;
        });
    }
  </script>
</body>
</html>
