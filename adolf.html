<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><title>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ Realtime DB</title></head>
<body>
  <h3>–í–≤–µ–¥–∏—Ç–µ Lua-–∫–æ–¥:</h3>
  <textarea id="code" rows="8" cols="60">print("–†–∞–±–æ—Ç–∞–µ—Ç!")</textarea><br><br>
  <button onclick="save()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ /code.lua</button>
  <p id="status">–ì–æ—Ç–æ–≤–æ.</p>

  <script>
    function save() {
      const url = "https://code-e0de9-default-rtdb.firebaseio.com/code.lua.json";
      const code = document.getElementById("code").value;

      fetch(url, {
        method: "PUT", // ‚ö†Ô∏è PUT ‚Äî –ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞ (–∫–∞–∫ —Ç—ã –ø—Ä–æ—Å–∏–ª)
        body: JSON.stringify(code),
        headers: { "Content-Type": "application/json" }
      })
      .then(r => r.ok ? 
        document.getElementById("status").innerText = "‚úÖ –£—Å–ø–µ—à–Ω–æ!" :
        document.getElementById("status").innerText = "‚ùå –û—à–∏–±–∫–∞: " + r.status
      );
    }
  </script>
</body>
</html>
